# Kosh Linux Package File
# Specification at: http://koshlinux.com/

info:
  name: Preparing Virtual Kernel File Systems 
  homepage: http://www.linuxfromscratch.org/lfs/view/stable/chapter06/kernfs.html
  description: "Various file systems exported by the kernel are used to communicate to and from the kernel itself. These file systems are virtual in that no disk space is used for them. The content of the file systems resides in memory. "

fetch:
  do: no

unpack:
  do: no

configure:
  do: no
  pre: |
    mkdir -pv $WORK/{dev,proc,sys}
    mknod -m 600 $WORK/dev/console c 5 1
    mknod -m 666 $WORK/dev/null c 1 3

make:
  do: no

make_install:
  do: |
    mount -v --bind /dev $WORK/dev
    mount -vt devpts devpts $WORK/dev/pts
    mount -vt tmpfs shm $WORK/dev/shm
    mount -vt proc proc $WORK/proc
    mount -vt sysfs sysfs $WORK/sys
