# Kosh Linux Package File
# Specification at: http://koshlinux.com/

info:
  name: Binutils
  type: normal_system
  version: 2.20.1
  filename: binutils-2.20.1.tar.bz2
  size: "17,091"
  homepage: http://sources.redhat.com/binutils/
  description: "The Binutils package contains a linker, an assembler, and other tools for handling object files."
  download: http://ftp.gnu.org/gnu/binutils/binutils-2.20.1.tar.bz2
  md5: 9cdfb9d6ec0578c166d3beae5e15c4e5
  packer: tar.bz2
  pack_folder: binutils-2.20.1
  compile_folder: binutils-2.20.1_base

build:
  options: ""
  do_configure: no
  do_make: no
  do_make_install: no
  pre_unpack: "rm -rfv $WORK/binutils-2.20.1; rm -rfv $WORK/binutils-2.20.1_base/*"
  post_configure: "cd $WORK/binutils-2.20.1_base; CC='$LFS_TGT-gcc -B/tools/lib/' AR='$LFS_TGT-ar RANLIB=$LFS_TGT-ranlib' ../binutils-2.20.1/configure --prefix=$TOOLS --disable-nls --with-lib-path=$TOOLS/lib"
  pre_make: "cd $WORK/binutils-2.20.1_base; make"
  pre_make_install: "cd $WORK/binutils-2.20.1_base; make install"
  post_make_install: "cd $WORK/binutils-2.20.1_base; make -C ld clean && make -C ld LIB_PATH=/usr/lib:/lib && cp -v ld/ld-new $TOOLS/bin"
